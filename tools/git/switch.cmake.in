execute_process(
	COMMAND @ENV_GIT_SILENT_COMMAND@ -C @GIT_REPO@ switch -C @GIT_BRANCH@ --track origin/@GIT_BRANCH@
	WORKING_DIRECTORY @GIT_REPO@
	RESULT_VARIABLE GIT_RESULT
	OUTPUT_VARIABLE GIT_OUT
	ERROR_VARIABLE GIT_ERROR
)

if(NOT GIT_RESULT EQUAL 0)
	message(FATAL_ERROR "Git switch failed (exit ${GIT_RESULT}). See error output above for details.")
endif()